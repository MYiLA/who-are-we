"use strict";var menuBtnElement=document.querySelector(".main-nav__menu-btn"),mainNavElement=document.querySelector(".main-nav"),navEnterElement=mainNavElement.querySelector(".main-nav__enter"),identificationElement=document.querySelector(".user-identification"),identificationCloseElement=identificationElement.querySelector(".user-identification__close"),navInitialsElement=document.querySelector(".main-nav__user-initials"),sliderAuthorizeElement=identificationElement.querySelector(".user-identification__slider-authorization"),sliderRegisterElement=identificationElement.querySelector(".user-identification__slider-registration"),formRegisterElement=identificationElement.querySelector("#registration"),formAuthorizeElement=identificationElement.querySelector("#authorization"),autorizeSubmitElement=formAuthorizeElement.querySelector(".user-identification__submit"),registerSubmitElement=formRegisterElement.querySelector(".user-identification__submit"),openMainMenu=function(){mainNavElement.classList.remove("main-nav--close"),mainNavElement.classList.add("main-nav--open")},closeMainMenu=function(){mainNavElement.classList.remove("main-nav--open"),mainNavElement.classList.add("main-nav--close")},moveMenu=function(){mainNavElement.classList.contains("main-nav--close")?openMainMenu():closeMainMenu()};menuBtnElement.addEventListener("click",moveMenu),navEnterElement.addEventListener("click",function(){identificationElement.classList.remove("user-identification--close")});var onCloseIdentification=function(){identificationElement.classList.add("user-identification--close"),closeMainMenu()};identificationCloseElement.addEventListener("click",onCloseIdentification),navInitialsElement.addEventListener("click",function(){identificationElement.classList.remove("user-identification--close")});var resetFormAutorize=function(){formRegisterElement.reset(),registerEmailElement.classList.remove("user-identification__input--invalid"),registerPasswordElement.classList.remove("user-identification__input--invalid"),registerPasswordRepeatElement.classList.remove("user-identification__input--invalid"),invalidRegisterElement.textContent=""},onOpenAutorizeClick=function(){formAuthorizeElement.classList.contains("user-identification__form--close")&&(formAuthorizeElement.classList.remove("user-identification__form--close"),formRegisterElement.classList.add("user-identification__form--close"),resetFormAutorize())},onOpenRegisterClick=function(){formRegisterElement.classList.contains("user-identification__form--close")&&(formRegisterElement.classList.remove("user-identification__form--close"),formAuthorizeElement.classList.add("user-identification__form--close"),formAuthorizeElement.reset(),autorizeEmailElement.classList.remove("user-identification__input--invalid"),autorizePasswordElement.classList.remove("user-identification__input--invalid"),invalidAuthorizeElement.textContent="")};sliderAuthorizeElement.addEventListener("click",onOpenAutorizeClick),sliderRegisterElement.addEventListener("click",onOpenRegisterClick);var registerEmailElement=formRegisterElement.querySelector("#registration-email"),registerPasswordElement=formRegisterElement.querySelector("#registration-password"),registerPasswordRepeatElement=formRegisterElement.querySelector("#registration-password-repeat"),invalidRegisterElement=formRegisterElement.querySelector(".user-identification__invalid"),invalidAuthorizeElement=formAuthorizeElement.querySelector(".user-identification__invalid"),checkValidityEmail=function(e,i){return""===e.value?(i.textContent="Введите адрес вашей электронной почты",e.classList.add("user-identification__input--invalid"),!1):!1===/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(e.value)?(i.textContent="Введите корректный e-mail",e.classList.add("user-identification__input--invalid"),!1):(e.classList.remove("user-identification__input--invalid"),!0)},checkValidityPassword=function(e,i){return""===e.value?(i.textContent="Введите пароль",e.classList.add("user-identification__input--invalid"),!1):(e.classList.remove("user-identification__input--invalid"),!0)},checkValidityPasswordRepeat=function(e,i,t){return""===i.value?(t.textContent="Повторите введенный вами пароль",i.classList.add("user-identification__input--invalid"),!1):i.value!==e.value?(t.textContent="Введенные пароли не совпадают, повторите попытку",e.classList.add("user-identification__input--invalid"),i.classList.add("user-identification__input--invalid"),!1):(e.classList.remove("user-identification__input--invalid"),i.classList.remove("user-identification__input--invalid"),!0)},addInvalidEffect=function(e,i){e||i.classList.add("user-identification__input--invalid")},onSubmitRegisterClick=function(){event.preventDefault(),checkValidityEmail(registerEmailElement,invalidRegisterElement),checkValidityPassword(registerPasswordElement,invalidRegisterElement),checkValidityPasswordRepeat(registerPasswordElement,registerPasswordRepeatElement,invalidRegisterElement),checkValidityEmail(registerEmailElement,invalidRegisterElement)&&checkValidityPassword(registerPasswordElement,invalidRegisterElement)&&checkValidityPasswordRepeat(registerPasswordElement,registerPasswordRepeatElement,invalidRegisterElement)&&(invalidRegisterElement.textContent="",onCloseIdentification(),showAccountCreatedPopap())},autorizeEmailElement=formAuthorizeElement.querySelector("#authorization-email"),autorizePasswordElement=formAuthorizeElement.querySelector("#authorization-password"),onSubmitAutorizeClick=function(){event.preventDefault(),checkValidityEmail(autorizeEmailElement,invalidAuthorizeElement),checkValidityPassword(autorizePasswordElement,invalidAuthorizeElement),checkValidityEmail(autorizeEmailElement,invalidAuthorizeElement)&&checkValidityPassword(autorizePasswordElement,invalidAuthorizeElement)&&(invalidAuthorizeElement.textContent="",onCloseIdentification())};registerSubmitElement.addEventListener("click",onSubmitRegisterClick),autorizeSubmitElement.addEventListener("click",onSubmitAutorizeClick);var mainElement=document.querySelector(".project"),showAccountCreatedPopap=function(){var e=document.querySelector("#account-created").content.querySelector(".account-created").cloneNode(!0),i=document.createDocumentFragment();i.appendChild(e),mainElement.appendChild(i),document.querySelector(".account-created__button").addEventListener("click",function(){mainElement.querySelector(".account-created__inner").classList.add("account-created__inner--thanks")}),mainElement.querySelector(".account-created__close").addEventListener("click",function(){mainElement.querySelector(".account-created__inner").remove(),resetFormAutorize()})};mainElement.querySelector(".competition__submit").addEventListener("click",function(){identificationElement.classList.remove("user-identification--close")});